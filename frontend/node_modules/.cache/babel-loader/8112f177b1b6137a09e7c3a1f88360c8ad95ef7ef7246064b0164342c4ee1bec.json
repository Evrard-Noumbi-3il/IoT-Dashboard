{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchLatest}from'./api';import SensorCard from'./components/SensorCard';import Graph from'./components/Graph';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[latest,setLatest]=useState({});const[history,setHistory]=useState([]);useEffect(()=>{const updateData=async()=>{const data=await fetchLatest();setLatest(data);setHistory(prev=>[...prev,data].slice(-20));};updateData();const interval=setInterval(updateData,5000);return()=>clearInterval(interval);},[]);const sensors=[{key:'temperature',label:'Temperature',unit:'°C',icon:Thermometer,color:'#FF6B6B'},{key:'humidity',label:'Humidity',unit:'%',icon:Droplets,color:'#4ECDC4'},{key:'co2',label:'CO₂',unit:'ppm',icon:Wind,color:'#95E1D3'},{key:'light',label:'Light',unit:'lux',icon:Sun,color:'#FFE66D'},{key:'noise',label:'Noise',unit:'dB',icon:Volume2,color:'#A8E6CF'},{key:'pressure',label:'Pressure',unit:'hPa',icon:Gauge,color:'#C7CEEA'},{key:'pm25',label:'PM2.5',unit:'µg/m³',icon:Cloud,color:'#B4A7D6'}];return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)',padding:'2rem',fontFamily:'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1400px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{marginBottom:'2rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'#fff',fontSize:'3rem',fontWeight:'800',marginBottom:'0.5rem',textShadow:'0 4px 20px rgba(0,0,0,0.3)',letterSpacing:'-1px'},children:\"IoT Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'1.1rem',fontWeight:'400'},children:\"Real-time environmental monitoring\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',margin:'-0.5rem'},children:sensors.map(sensor=>/*#__PURE__*/_jsx(SensorCard,{label:sensor.label,value:latest[sensor.key],unit:sensor.unit,icon:sensor.icon,color:sensor.color},sensor.key))}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',marginTop:'1rem',margin:'-0.5rem'},children:sensors.map(sensor=>/*#__PURE__*/_jsx(Graph,{data:history,dataKey:sensor.key,label:\"\".concat(sensor.label,\" (\").concat(sensor.unit,\")\"),color:sensor.color},sensor.key))})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","fetchLatest","SensorCard","Graph","jsx","_jsx","jsxs","_jsxs","App","latest","setLatest","history","setHistory","updateData","data","prev","slice","interval","setInterval","clearInterval","sensors","key","label","unit","icon","Thermometer","color","Droplets","Wind","Sun","Volume2","Gauge","Cloud","style","minHeight","background","padding","fontFamily","children","maxWidth","margin","marginBottom","textAlign","fontSize","fontWeight","textShadow","letterSpacing","display","flexWrap","map","sensor","value","marginTop","dataKey","concat"],"sources":["C:/school/projet/IoT/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchLatest } from './api';\nimport SensorCard from './components/SensorCard';\nimport Graph from './components/Graph';\nimport './App.css';\n\nfunction App() {\n  const [latest, setLatest] = useState({});\n  const [history, setHistory] = useState([]);\n\n  useEffect(() => {\n    const updateData = async () => {\n      const data = await fetchLatest();\n      setLatest(data);\n      setHistory(prev => [...prev, data].slice(-20));\n    };\n\n    updateData();\n    const interval = setInterval(updateData, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const sensors = [\n    { key: 'temperature', label: 'Temperature', unit: '°C', icon: Thermometer, color: '#FF6B6B' },\n    { key: 'humidity', label: 'Humidity', unit: '%', icon: Droplets, color: '#4ECDC4' },\n    { key: 'co2', label: 'CO₂', unit: 'ppm', icon: Wind, color: '#95E1D3' },\n    { key: 'light', label: 'Light', unit: 'lux', icon: Sun, color: '#FFE66D' },\n    { key: 'noise', label: 'Noise', unit: 'dB', icon: Volume2, color: '#A8E6CF' },\n    { key: 'pressure', label: 'Pressure', unit: 'hPa', icon: Gauge, color: '#C7CEEA' },\n    { key: 'pm25', label: 'PM2.5', unit: 'µg/m³', icon: Cloud, color: '#B4A7D6' }\n  ];\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)',\n      padding: '2rem',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n    }}>\n      <div style={{ maxWidth: '1400px', margin: '0 auto' }}>\n        <header style={{ marginBottom: '2rem', textAlign: 'center' }}>\n          <h1 style={{ \n            color: '#fff', \n            fontSize: '3rem',\n            fontWeight: '800',\n            marginBottom: '0.5rem',\n            textShadow: '0 4px 20px rgba(0,0,0,0.3)',\n            letterSpacing: '-1px'\n          }}>\n            IoT Dashboard\n          </h1>\n          <p style={{ \n            color: 'rgba(255,255,255,0.8)', \n            fontSize: '1.1rem',\n            fontWeight: '400'\n          }}>\n            Real-time environmental monitoring\n          </p>\n        </header>\n\n        <div style={{ \n          display: 'flex', \n          flexWrap: 'wrap',\n          margin: '-0.5rem'\n        }}>\n          {sensors.map(sensor => (\n            <SensorCard\n              key={sensor.key}\n              label={sensor.label}\n              value={latest[sensor.key]}\n              unit={sensor.unit}\n              icon={sensor.icon}\n              color={sensor.color}\n            />\n          ))}\n        </div>\n\n        <div style={{ \n          display: 'flex', \n          flexWrap: 'wrap',\n          marginTop: '1rem',\n          margin: '-0.5rem'\n        }}>\n          {sensors.map(sensor => (\n            <Graph\n              key={sensor.key}\n              data={history}\n              dataKey={sensor.key}\n              label={`${sensor.label} (${sensor.unit})`}\n              color={sensor.color}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}